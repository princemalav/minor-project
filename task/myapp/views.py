from django.shortcuts import render , redirect , reverse
import csv
# Create your views here.
def home(request):
    if request.method == 'POST':
        email = request.POST.get('email')
        name = request.POST.get('name')
        designation = request.POST.get('dgn')
        forest_density = request.POST.get('forest_density')
        ldf = request.POST.get('low_denisty_forest')
        mdf = request.POST.get('Moderate_Density_Forest')
        hdf = request.POST.get('High_Density_Forest')
        slope = request.POST.get('slope')
        slope_0_5 = request.POST.get('slop_0_5%')
        slope_5_10 = request.POST.get('slop_5_10%')
        slope_10_15 = request.POST.get('slop_10_15%')
        slope_15_20 = request.POST.get('slop_15_20%')
        slope_20_25 = request.POST.get('slop_20_25%')
        slope_above_25 = request.POST.get('slop_above_25%')
        aspect = request.POST.get('aspect')
        north = request.POST.get('north')
        north_east = request.POST.get('north_east')
        east = request.POST.get('east')
        south_east = request.POST.get('south_east')
        south = request.POST.get('south')
        south_west = request.POST.get('south_west')
        west = request.POST.get('west')
        north_west = request.POST.get('north_west')
        elevation = request.POST.get('elevation')
        e0_500 = request.POST.get('e0-500')
        e500_800 = request.POST.get('e500-800')
        e800_1100 = request.POST.get('e800-1100')
        e1100_1400 = request.POST.get('e1100-1400')
        e1400_1700 = request.POST.get('e1400-1700')
        e1700_2000 = request.POST.get('e1700_2000')
        e2000_2300 = request.POST.get('e2000_2300')
        e_above2300 = request.POST.get('e_above2300')
        distance = request.POST.get('distance')
        d_0_100 = request.POST.get('d_0_100')
        d_100_200 = request.POST.get('d_100_200')
        d_200_300 = request.POST.get('d_200_300')
        d_300_400 = request.POST.get('d_300_400')
        d_400_500 = request.POST.get('d_400_500')
        settlement = request.POST.get('settlement')
        s_0_1000 = request.POST.get('s_0_1000')
        s_1000_2000 = request.POST.get('s_1000_2000')
        s_2000_3000 = request.POST.get('s_2000_3000')
        s_3000_4000 = request.POST.get('s_3000_4000')
        biomass = request.POST.get('biomass')
        agbio = request.POST.get('agbio')
        bgbio = request.POST.get('bgbio')
        wind = request.POST.get('wind')
        temprature = request.POST.get('temprature')
        rainfall = request.POST.get('rainfall')
        with open('data.csv','a') as csvfile:
            filewriter = csv.writer(csvfile,delimiter=',',quoting=csv.QUOTE_ALL)
            filewriter.writerow([email,name,designation,slope,slope_0_5,slope_5_10,slope_10_15,slope_15_20,slope_20_25,slope_above_25,aspect,north,north_east,east,south_east,
            south,south_west,west,north_west,elevation,e0_500,e500_800,e800_1100,e1100_1400,e1400_1700,e1700_2000,e2000_2300,e_above2300,distance,d_0_100,d_100_200,d_200_300,d_300_400,d_400_500,
            settlement,s_0_1000,s_1000_2000,s_2000_3000,s_3000_4000,biomass,agbio,bgbio,wind,temprature,rainfall])
            print(email,name,designation)
            print('done csv file writing')

        return redirect(reverse('myapp:home'))
    return render(request,'myapp/base.html')
